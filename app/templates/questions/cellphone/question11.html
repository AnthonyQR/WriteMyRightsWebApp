<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="{{ url_for('static',filename='styles/questions.css') }}">
    <title>Write My Rights</title>
    <!-- Montserrat Font -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Philosopher:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

    <a href="/index"><img class="greylogo" src="{{ url_for('static',filename='images/Write my Rights.PNG') }}"/></a>
    
    <div class="progressDiv">
        <svg class="progressBarOne" width="1100 px" height="20 px">
            <rect width="1000px" height="10px" style="fill: #dddddd;" rx="8" ry="8" />
            <rect width="1000px" height="10px" style="fill: #303852;" rx="8" ry="8" />
        </svg>
    </div>

    <form action="{{url_for('answer')}}" method="post">
    <div class="questionDiv">
        <p class="questionText">What deadline do you want to give to them to respond?</p>
        <input type="date" class="questionInput" value="{{request.form.answer}}" name="answer" required maxlength="50">
        <input type="hidden" value="deadline" name="key">
        <input type="hidden" value="/cellphone" name="letter_type">
        <input type="hidden" value="/question12" name="next_page">
<!--        <input type="hidden" value="/questionTwo" name="next_page">-->
    </div>

    <br>

    <div class="buttonDiv">
        <a href='/questions/cellphone/question10'><img src="{{url_for('static', filename='images/black back arrow.png')}}" alt="Back" class="backArrow"/></a>
        <input type="image" name="submit" src="{{url_for('static', filename='images/black arrow.png')}}" alt="Next" class="frontArrow"/>
    </div>
    </form>
    
    <script>
    window.onload = (event) => {
    let key = document.getElementsByName("key")
    console.log(key)
    let value = getCookie(key[0].value)
    console.log(value)
    value = value.replace(/['"]+/g, '')
    let fields = document.getElementsByClassName("questionInput")
    if (value.length > 0) {
        if (value == 'Emails do not match') {
            alert(value);
        } else {
            for (var i=0; i < fields.length; i++) {
                fields[i].value = value;
            }
        }
    }
}

function getCookie(cname) {
    var name = cname + "=";
    var decodedCookie = decodeURIComponent(document.cookie);
    var ca = decodedCookie.split(';');
    for(var i = 0; i <ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0) == ' ') {
        c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
        return c.substring(name.length, c.length);
        }
    }
    return "";
    }
    </script>

</body>
</html>